# Skills リファレンス

SKILL.mdから参照されるテンプレートとリファレンス情報。

## SKILL.mdテンプレート: シンプル版

ステップ数が少なく、補助ファイル不要なスキル用。

```markdown
---
name: スキル名
description: 1文での説明
allowed-tools: 必要なツール（カンマ区切り）
---

# [スキル名] スキル

[1〜2文でスキルの概要を記述]

## 使用タイミング

- [使用する場面1]
- [使用する場面2]

## ワークフロー

### ステップ1: [ステップ名]

[具体的な手順]

### ステップ2: [ステップ名]

[具体的な手順]

## ベストプラクティス

- [守るべき原則]
```

## SKILL.mdテンプレート: 複雑版

判定ツリー、チェックリスト、補助ファイル参照を含むスキル用。

```markdown
---
name: スキル名
description: 1文での説明
allowed-tools: 必要なツール（カンマ区切り）
---

# [スキル名] スキル

[1〜2文でスキルの概要を記述]

## 使用タイミング

- [使用する場面1]
- [使用する場面2]

## 判定ツリー

（該当する場合、分岐ロジックをテキストツリーで記述）

## ワークフロー

### ステップ1: 情報収集

**チェックリスト**:
- [ ] [確認項目1]
- [ ] [確認項目2]

### ステップ2: 判定

（テキスト判定ツリー）

### ステップ3: 実行

[具体的な手順。テンプレートは `templates.md` を参照。]

### ステップ4: ユーザー確認

[確認・承認のフロー]

## ベストプラクティス

- [守るべき原則]
```

## 判定ツリーの書き方

判定ツリーはコードブロック内にテキストで記述する。

**基本形**:
```
質問？
├── 選択肢A → 結果A
└── 選択肢B → 結果B
```

**ネスト形**:
```
質問1？
├── 選択肢A
│   ├── 条件A-1 → 結果1
│   └── 条件A-2 → 結果2
└── 選択肢B → 結果3
```

**ルール**:
- 最初の行は質問形式にする
- `├──` で中間選択肢、`└──` で最終選択肢を表す
- `→` で結果・アクションを示す
- ネストは `│   ` でインデントする
- 深さは3レベルまでに抑える

## allowed-tools リファレンス

スキルで使用可能なツールと、その用途・権限の考え方。

| ツール | 用途 | 権限レベル |
|--------|------|----------|
| `Read` | ファイル読み取り | 低（読み取り専用） |
| `Glob` | ファイルパターン検索 | 低（読み取り専用） |
| `Grep` | ファイル内容検索 | 低（読み取り専用） |
| `Edit` | ファイル部分編集 | 中（既存ファイル変更） |
| `Write` | ファイル書き込み | 中（ファイル作成・上書き） |
| `Bash` | シェルコマンド実行 | 高（任意コマンド実行） |
| `WebFetch` | URL内容取得 | 中（外部アクセス） |
| `WebSearch` | Web検索 | 中（外部アクセス） |

**権限設計の原則**:
- 読み取り専用スキルには `Read, Glob, Grep` のみ
- ファイル生成スキルには `Read, Glob, Grep, Write, Edit` を追加
- `Bash` は本当に必要な場合のみ（ビルド、テスト実行等）
- `WebFetch`, `WebSearch` は外部情報が必要な場合のみ

## マルチファイル構成ガイドライン

### ディレクトリ構成

```
.claude/skills/[スキル名]/
├── SKILL.md          # コア指示（必須）
├── templates.md      # テンプレート集（任意）
├── reference.md      # リファレンス情報（任意）
├── examples.md       # 具体例集（任意）
└── questions.md      # 質問テンプレート（任意）
```

### 各ファイルの役割

**SKILL.md（必須）**:
- スキルのエントリーポイント
- フロントマター、概要、ワークフロー、ベストプラクティス
- 補助ファイルへの参照を含む

**templates.md**:
- スキルが生成する成果物のテンプレート
- 追加基準: テンプレートが2つ以上、またはテンプレートが20行以上

**reference.md**:
- ツール、API、設定値等のリファレンス情報
- 追加基準: リファレンス情報が多く、SKILL.mdに含めると煩雑になる場合

**examples.md**:
- 良い例/悪い例の対比、ユースケース別の具体例
- 追加基準: 抽象的な説明だけでは理解しにくい場合

**questions.md**:
- ユーザーへのヒアリング項目、質問テンプレート
- 追加基準: ヒアリング項目が10問以上ある場合
