# ルールテンプレート集

SKILL.mdから参照されるルールファイルのテンプレートとガイド。

## テンプレート: パスフィルタリング付きルール

特定のディレクトリにのみ適用されるルール用。

```markdown
---
paths:
  - "対象パスパターン"
---

# [ドメイン名]規約

## [カテゴリ1]

- [具体的なルール]
- [具体的なルール]

## [カテゴリ2]

- [具体的なルール]
```

## テンプレート: 全体共通ルール

プロジェクト全体に適用されるルール用。`paths` フロントマターを省略する。

```markdown
# [ドメイン名]規約

## [カテゴリ1]

- [具体的なルール]
- [具体的なルール]

## [カテゴリ2]

- [具体的なルール]
```

## パスパターン例

| パターン | 適用範囲 |
|---------|---------|
| `backend/**` | バックエンドディレクトリ全体 |
| `frontend/**` | フロントエンドディレクトリ全体 |
| `src/app/api/**` | API関連ファイル |
| `**/*.spec.ts` | テストファイル |
| `**/*.sql` | SQLファイル |
| `src/components/**` | コンポーネントファイル |
| `packages/shared/**` | 共有パッケージ |
| `infrastructure/**` | インフラ関連ファイル |

## ドメイン別 記載内容ガイド

### code-style（コーディング規約）

- 言語・モジュールシステム
- 型注釈の方針
- フォーマット（インデント、クォート、セミコロン）
- 命名規則（変数、関数、クラス、定数、型）
- 関数スタイル（アロー関数 vs function宣言）
- コメント言語

### testing（テスト規約）

- テストフレームワーク・アサーションライブラリ
- テストファイルの命名・配置
- describe/it の記述言語
- モック・スタブの方針
- テストデータの管理方法
- カバレッジ要件

### security（セキュリティ規約）

- 入力バリデーション方針
- 認証・認可パターン
- シークレット管理
- CORS設定
- SQLインジェクション・XSS対策

### database（データベース規約）

- ORM / クエリビルダーの使用方針
- マイグレーション管理
- テーブル・カラム命名規則
- インデックス方針
- トランザクション管理

### design（設計規約）

- アーキテクチャパターン（レイヤードアーキテクチャ、クリーンアーキテクチャ等）
- ディレクトリ構成ルール
- モジュール間の依存関係ルール
- エラーハンドリングパターン
- ログ出力規約

### framework固有（フレームワーク規約）

- フレームワーク固有のファイル配置
- ルーティングパターン
- ミドルウェア使用方針
- 状態管理パターン
- コンポーネント設計方針
