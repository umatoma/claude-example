---
description: SDD実装実行。計画書（Part 1 + Part 2）に基づいてステップバイステップで実装を進めます。各フェーズ完了時に確認を求めます。
---

# SDD Implement コマンド

仕様駆動開発（SDD）の最終ステップ。計画書に基づいて実装を行う。

## 前提条件

- `/x-specify` で仕様書（Part 1）が作成済みであること
- `/x-plan` で実装計画（Part 2）が作成済みであること
- `.steering/` ディレクトリに対象の計画書が存在すること

## ワークフロー

### ステップ1: 準備

1. `sdd-principles` スキルを読み込み、SDD原則・プロジェクト憲法を確認する
2. `coding-standards` スキルを読み込み、コーディング規約を確認する
3. `.steering/` から対象の計画書を特定する
   - `$ARGUMENTS` でファイル名が指定された場合はそれを使用
   - 指定がない場合は `.steering/` 内の最新ファイルを候補として提示
4. 計画書の Part 1（仕様）と Part 2（実装計画）を読み込む

### ステップ2: フェーズゲート2 検証

ゲート2（Plan → Implement）の通過条件を検証する:

| # | 条件 | 確認方法 |
|---|------|---------|
| G2-1 | ゲート1を通過済み | 仕様書のステータスを確認 |
| G2-2 | 実装フェーズが定義されている | Part 2のフェーズセクションを確認 |
| G2-3 | 各タスクに完了条件がある | タスク定義を確認 |
| G2-4 | シンプリシティゲートが確認済み | 計画書の 2.4 を確認 |
| G2-5 | ユーザーが計画を承認済み | 明示的な承認を確認 |

**未通過の場合**: 未達成の条件を報告し、`/x-plan` に戻ることを提案して中止する。

### ステップ3: 進捗確認

計画書のチェックボックスと進捗サマリーを確認する:
- 全タスクが未着手の場合: フェーズ1から開始
- 一部完了済みの場合: 未完了の最初のタスクから再開
- 再開時は完了済みステップの概要をユーザーに報告

### ステップ4: ステップバイステップ実装

各タスクを以下の手順で実装する:

1. **タスク宣言**: 実行するタスクの内容を報告
2. **テスト先行**（条III）: テストが必要なタスクではテストを先に作成
3. **実装**: コードを作成・変更
4. **検証**: 完了条件を満たしているか確認
5. **進捗更新**: 計画書のチェックボックスを `- [x]` に更新
6. **次のタスクへ**: 依存関係を確認し、次のタスクに進む

### ステップ5: フェーズ完了時

各フェーズが完了したら:
1. 進捗サマリーを更新（ステータスを「完了」に変更）
2. 実装ログに記録を追加
3. ユーザーに完了を報告し、次のフェーズへ進むか確認

### ステップ6: 全完了時

全フェーズが完了したら:
1. 計画書の進捗サマリーを最終更新
2. 成功基準（2.6）の達成状況を確認
3. 最終レポートを作成:
   - 変更ファイル一覧
   - 成功基準の達成状況
   - 推奨される次のステップ（テスト実行等）

## SDD固有ルール

### 計画にない変更の禁止
計画書に記載のないファイル変更・機能追加は行わない。必要な変更を発見した場合は、ユーザーに報告して仕様への追加を提案する。

### 受入基準による完了判定
各タスクの完了は、計画書に記載された完了条件と仕様の受入基準で判定する。「動いているから完了」ではなく、仕様通りであることを確認する。

### ブロッカー時の対応
実装中にブロッカーが発生した場合:
1. ブロッカーの内容をユーザーに報告
2. 仕様の不備が原因であれば `/x-specify` に戻ることを提案
3. 計画の不備が原因であれば `/x-plan` に戻ることを提案
4. 実装ログに記録

### 実装ログの記録
計画書の 2.7 実装ログに以下を記録する:
- フェーズ開始・完了の日時
- ブロッカーの発生と解決
- 仕様からの逸脱（ある場合）

## 中断と再開

### 中断時
進捗は計画書のチェックボックスと実装ログに自動保存される。

### 再開時
`/x-implement` を再実行すると、計画書の進捗を読み込み、未完了のタスクから再開する。

## 出力

- 計画に基づくコード変更
- 計画書の進捗更新（チェックボックス、サマリー、ログ）
- 最終レポート（全完了時）

## 他のコマンドとの連携

- 前のステップ: `/x-plan` - 実装計画の作成
- 仕様に戻る: `/x-specify` - 仕様の修正が必要な場合

## 注意事項

- 計画にない変更は行わない
- プロジェクト憲法を常に遵守する

