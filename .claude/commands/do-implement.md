---
description: 計画書に基づいてステップバイステップで実装を進めます。各フェーズ完了時に確認を求めます。
---

# Implement コマンド

このコマンドは **implementer** エージェントを呼び出し、計画書に基づいて実装を進めます。

## このコマンドの機能

1. **計画書の読み込み** - `.steering/` ディレクトリから計画書を取得
2. **ステップ実行** - 計画のステップを順番に実装
3. **進捗報告** - 各ステップ完了時に進捗を報告
4. **確認を待つ** - 各フェーズ完了時にユーザーの承認を得る

## 使用タイミング

以下の場合に `/do-implement` を使用してください：
- `/do-plan` で計画書を作成した後
- 承認済みの計画書がある場合
- 中断した実装を再開する場合

## 前提条件

- `.steering/` ディレクトリに計画書が存在すること
- 計画書がユーザーに承認されていること

## 動作の仕組み

implementerエージェントは以下を行います：

1. **計画書を読み込み**、未完了のステップを特定
2. **各ステップを順番に実装**
3. **各ステップ完了後に進捗を報告**
4. **フェーズ完了時に確認を待つ**
5. **全フェーズ完了時に最終報告**

## 使用例

### 基本的な使用

```
ユーザー: /do-implement

エージェント (implementer):
計画書を読み込みました: .steering/20240120-realtime-notification.md

## 実装開始

### フェーズ1: データベーススキーマ

ステップ1.1を実行します: notificationsテーブルを追加

[実装中...]

✅ ステップ1.1 完了
- 作成: prisma/migrations/xxx_add_notifications.sql
- 変更: prisma/schema.prisma

次のステップ: ステップ1.2 user_notification_preferencesテーブルを追加

続行しますか？
```

### 特定の計画書を指定

```
ユーザー: /do-implement 20240115-auth-refactor.md

エージェント (implementer):
計画書を読み込みました: .steering/20240115-auth-refactor.md
...
```

### 特定のフェーズから開始

```
ユーザー: /do-implement フェーズ2から

エージェント (implementer):
フェーズ1はスキップし、フェーズ2から開始します。

### フェーズ2: 通知サービス
...
```

## ユーザーの操作

### 続行する場合
```
ユーザー: 続けて
ユーザー: はい
ユーザー: 次
```

### 一時停止する場合
```
ユーザー: ちょっと待って
ユーザー: 一旦止めて
ユーザー: ここまでで止めて
```

### 問題を報告する場合
```
ユーザー: このステップ、こう変えて: [変更内容]
ユーザー: ここはスキップして
ユーザー: やり直して
```

## ブロッカー発生時

実装中に問題が発生した場合：

```
エージェント:
## ⚠️ ブロッカー発生

### 発生場所
フェーズ2 > ステップ1: 通知サービスの作成

### 問題
BullMQパッケージがpackage.jsonに存在しません

### 解決案
1. BullMQをインストール: npm install bullmq
2. 別のキューシステムを使用

どのように進めますか？
```

## 完了時

全ての実装が完了すると：

```
エージェント:
## 🎉 実装完了

### 変更ファイル一覧
- prisma/schema.prisma
- lib/notifications.ts (新規)
- components/NotificationBell.tsx (新規)
- ...

### 推奨される次のステップ
1. `/code-review` でレビューを実行
2. `npm test` でテストを実行
3. 動作確認
```

## ワークフロー例

```
/do-plan 新機能Xを実装したい
  ↓
計画書のレビュー・承認
  ↓
/do-implement
  ↓
ステップバイステップで実装
  ↓
/code-review
  ↓
git commit
```

## 他のコマンドとの連携

- `/do-plan` - 実装前に計画を立てる
- `/code-review` - 実装後にコードレビュー

## 関連エージェント

このコマンドは以下の場所にある `implementer` エージェントを呼び出します：
`.claude/agents/implementer.md`

## 中断と再開

### 進捗トラッキング

計画書には進捗状況が自動的に記録されます：

```markdown
## 進捗サマリー
| フェーズ | ステータス | 進捗 |
|---------|-----------|------|
| フェーズ1: 基盤構築 | 完了 | 3/3 |
| フェーズ2: API実装 | 進行中 | 2/4 |  ← 現在地
| フェーズ3: UI実装 | 未着手 | 0/2 |

**全体進捗**: 5/9 ステップ完了
```

### 中断する場合

作業を中断しても、計画書のチェックボックスと実装ログに進捗が記録されているため、いつでも再開できます。

```
ユーザー: 一旦止めて
エージェント: 了解しました。進捗を計画書に保存しました。
             現在の進捗: フェーズ2 > ステップ2.2 完了
             再開時は `/do-implement` を実行してください。
```

### 再開する場合

```
ユーザー: /do-implement

エージェント:
計画書を読み込みました: .steering/20240120-realtime-notification.md

## 進捗確認
- フェーズ1: 完了 (3/3)
- フェーズ2: 進行中 (2/4) ← 再開地点
- フェーズ3: 未着手 (0/2)

次のステップ: 2.3 エラーハンドリング追加

続行しますか？
```

## 注意事項

- **計画書がない場合**: 先に `/do-plan` を実行してください
- **計画書が古い場合**: 新しい計画書を作成するか、既存のものを更新してください
- **途中で止めた場合**: 再度 `/do-implement` を実行すると、未完了のステップから再開します
- **進捗が記録されない場合**: 計画書のフォーマットが正しいか確認してください
